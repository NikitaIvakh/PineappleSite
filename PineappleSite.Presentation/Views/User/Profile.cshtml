@using PineappleSite.Presentation.Utility
@model PineappleSite.Presentation.Models.Users.UpdateUserProfileViewModel

@{
    ViewData["Title"] = "Обновить пользователя";
}

<style>
    .form-control:focus {
        box-shadow: none;
        border-color: #BA68C8
    }

    .profile-button {
        background: rgb(99, 39, 120);
        box-shadow: none;
        border: none
    }

        .profile-button:hover,
        .profile-button:focus,
        .profile-button:active {
            background: #682773;
            box-shadow: none
        }

    .back:hover {
        color: #682773;
        cursor: pointer
    }

    .labels {
        font-size: 15px
    }

    .add-experience:hover {
        background: #BA68C8;
        color: #fff;
        cursor: pointer;
        border: solid 1px #BA68C8
    }

    .form-container {
        width: 70%;
        margin: 0 auto; /* Center the form horizontally */
        margin-top: 2px; /* Adjust the top margin as needed */
    }

    .user-profile {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

        .user-profile h4 {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 70%;
            margin-bottom: 1rem;
        }
</style>

<form asp-action="Profile" class="form-container rounded bg-white mt-0 mb-md-0 ml-0 py-0">
    <div class="container rounded bg-white">
        <div class="row">
            <div class="col-md-4 user-profile">
                <div class="d-flex flex-column align-items-center text-center p-3 py-5">
                    <img class="rounded-circle mt-5" width="150px"
                         src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg">
                    <span class="font-weight-bold">@Model.UserName</span>
                    <span class="text-black-50">@Model.EmailAddress</span>
                    <span> </span>
                </div>
            </div>
            <div class="col-md-8">
                <div class="p-3 py-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 style="font-size: 130%">Профиль пользователя - @Model.UserName</h4>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <label class="labels">Имя</label>
                            <input type="text" class="form-control mb-3" placeholder="Имя" asp-for="FirstName">
                        </div>
                        <div class="col-md-6">
                            <label class="labels">Фамилия</label>
                            <input type="text" class="form-control mb-3" placeholder="Фамилия" asp-for="LastName">
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-12">
                            <label class="labels">Электронная почта</label>
                            <input type="text" class="form-control mb-3" placeholder="Электронная почта" asp-for="EmailAddress" readonly />
                        </div>
                        <div class="col-md-12">
                            <label class="labels">Отображаемое имя</label>
                            <input type="text" class="form-control mb-3" placeholder="Отображаемое имя" asp-for="UserName" />
                        </div>
                        <div class="col-md-12">
                            <label class="labels">Возраст</label>
                            <input type="text" class="form-control mb-3" placeholder="Возраст" asp-for="Age" />
                        </div>
                        <br />
                        <div class="col-md-12">
                            <label class="labels">Описание</label>
                            <textarea type="text" class="form-control mb-3" placeholder="Описание" asp-for="Description" rows="3"></textarea>
                        </div>
                        <div class="col-md-12">
                            <label class="labels">Смена пароля</label>
                            <div class="input-group mb-3">
                                <input type="password" class="form-control" placeholder="Введите новый пароль" value="" asp-for="Password">
                                <button type="button" class="btn btn-secondary" id="togglePassword"><i class="fa fa-eye"></i>Показать</button>
                            </div>
                            <span asp-validation-for="Password" class="text-danger"></span>
                        </div>
                        <div class="col-md-12">
                            <input class="form-control" asp-for="Id" readonly hidden />
                            <span class="text-danger" asp-validation-for="Id" hidden></span>
                        </div>
                    </div>
                    @* <div class="row mt-3">
                        <div class="col-md-6">
                            <label class="labels">Country</label>
                            <input type="text" class="form-control mb-3" placeholder="country" value="">
                        </div>
                        <div class="col-md-6">
                            <label class="labels">State/Region</label>
                            <input type="text" class="form-control mb-3" value="" placeholder="state">
                        </div>
                    </div> *@
                    <div class="mt-3">
                        <button class="btn btn-primary profile-button" value="Обновить">Сохранить профиль</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('#togglePassword').click(function () {
            var passwordInput = $('input[name="Password"]');
            var passwordType = passwordInput.attr('type');

            if (passwordType === 'password') {
                passwordInput.attr('type', 'text');
                $('#togglePassword i').removeClass('fa-eye').addClass('fa-eye-slash');
                $('#togglePassword').text('Скрыть');
            } else {
                passwordInput.attr('type', 'password');
                $('#togglePassword i').removeClass('fa-eye-slash').addClass('fa-eye');
                $('#togglePassword').text('Показать');
            }
        });
    });
</script>